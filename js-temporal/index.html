<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>JavaScript Temporal</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#importing">Importing</a></li><li><a href="#primary-classes">Primary Classes</a></li><li><a href="#temporal.now">Temporal.now</a></li><li><a href="#temporal.absolute">Temporal.Absolute</a></li><li><a href="#temporal.timezone">Temporal.TimeZone</a></li><li><a href="#temporal.datetime">Temporal.DateTime</a></li><li><a href="#temporal.date">Temporal.Date</a></li><li><a href="#temporal.yearmonth">Temporal.YearMonth</a></li><li><a href="#temporal.monthday">Temporal.MonthDay</a></li><li><a href="#temporal.time">Temporal.Time</a></li><li><a href="#temporal.duration">Temporal.Duration</a></li><li><a href="#temporal.calendar">Temporal.Calendar</a></li></ol></nav></aside><article><h3 id="overview">Overview</h3><p><code>Temporal</code> is a global object being added to JavaScript. It supports representing dates and times, and performing calculations on them. It provides a better alternative to the JavaScript <code>Date</code> class and libraries like Moment.js and date-fns.</p><p>Issues with the JavaScript <code>Date</code> class that are all addressed in <code>Temporal</code> include:</p><ul><li>lack of support for time zones other than local time and UTC</li><li>unpredictable daylight savings time (DST) behavior</li><li>lack of support for non-Gregorian calendars</li><li>Date objects are mutable</li></ul><p>As of September 2020, <code>Temporal</code> is a <a href="https://tc39.es/proposal-temporal/">stage 2 ECMAScript proposal</a> and it not yet supported by any web browsers. However, a <a href="https://www.npmjs.com/package/proposal-temporal">polyfill</a> is available in npm that can be used today to gain experience in using it. Since the proposal has not reached stage 4, the API may undergo changes before it is finalized.</p><h3 id="installing">Installing</h3><p>To install the polyfill in a project, enter <code>npm install proposal-temporal</code> (not <code>temporal</code>!).</p><h3 id="importing">Importing</h3><p>To import the polyfill, use</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span>Temporal<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'proposal-temporal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>or</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>Temporal<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'proposal-temporal/lib/index.mjs'</span><span class="token punctuation">;</span></code></pre><h3 id="primary-classes">Primary Classes</h3><p>The primary classes that support the functionality of <code>Temporal</code> are:</p><ul><li><code>Absolute</code> represents the current absolute time without regard to a particular calendar system or time zone. It stores the number of nanoseconds since the epoch in a <code>BigInt</code>.</li><li><code>TimeZone</code> represents a time zone.</li><li><code>DateTime</code> represents a date/time combination.</li><li><code>Date</code> represents a date with no time.</li><li><code>YearMonth</code> represents a year/month combination with no day or time.</li><li><code>MonthDay</code> represents a month/day combination with no year or time.</li><li><code>Time</code> represents a time of day with no date.</li><li><code>Duration</code> represents a duration of time rather than a date or time of day.</li><li><code>Calendar</code> implements a calendar system used by the other classes.</li></ul><h3 id="temporal.now">Temporal.now</h3><p><code>Temporal.now</code> is a object with methods that return an object that represents the current system date/time using an instance of <code>Absolute</code>, <code>TimeZone</code>, <code>DateTime</code>, <code>Date</code>, or <code>Time</code>.</p><p><code>Temporal.now.absolute()</code> returns an <code>Absolute</code> object.</p><p><code>Temporal.now.timeZone()</code> returns a <code>TimeZone</code> object.</p><p><code>Temporal.now.dateTime()</code> returns a <code>DateTime</code> object. To use a different time zone, pass that as the first argument. To use a different calendar system, pass that as the second argument.</p><p><code>Temporal.now.date()</code> returns a <code>Date</code> object. To use a different time zone, pass that as the first argument. To use a different calendar system, pass that as the second argument.</p><p><code>Temporal.now.time()</code> returns a <code>Time</code> object. To use a different time zone, pass that as the first argument.</p><h3 id="temporal.absolute">Temporal.Absolute</h3><p>To create an instance that represents the current system date/time:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> abs <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">absolute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create an instance that represents a date/time that is a given number of nanoseconds from the epoch:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> abs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Absolute</span><span class="token punctuation">(</span><span class="token number">0n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass a BigInt</span><br><span class="token comment">// or from a string</span><br><span class="token keyword">const</span> abs <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Absolute<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'1961-04-16T10:19:20Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Instances of this class have no read-only properties.</p><p>The value can be retrieved as a number of some unit since the epoch by calling one of the instance methods <code>getEpochSeconds</code>, <code>getEpochMilliseconds</code>, <code>getEpochMicroseconds</code>, or <code>getEpochNanoseconds</code> and passing no arguments.</p><p>Other instance methods include:</p><ul><li><code>plus(duration)</code> returns a new <code>Absolute</code></li><li><code>minus(duration)</code> returns a new <code>Absolute</code></li><li><code>difference(other)</code> returns a <code>Duration</code></li><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;2020-09-01T22:31:22.956482956Z&quot;; can be passed an optional time zone</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li></ul><p>To create a <code>DateTime</code> from an <code>Absolute</code> and a <code>TimeZone</code>, <code>absolute.toDateTime(timeZone)</code>.</p><p>Class methods to create an instance include:</p><ul><li><code>Absolute.fromEpochSeconds(seconds)</code></li><li><code>Absolute.fromEpochMilliseconds(milliseconds)</code></li><li><code>Absolute.fromEpochMicroseconds(microseconds)</code></li><li><code>Absolute.fromEpochNanoseconds(nanoseconds)</code></li><li><code>Absolute.from(item)</code></li></ul><p>To compare two instances, use the static method <code>Temporal.Absolute.compare(abs1, abs2)</code>. This function can be passed to the JavaScript <code>Array</code> <code>sort</code> method to sort instances of this class.</p><h3 id="temporal.timezone">Temporal.TimeZone</h3><p>To create an instance that represents the current time zone:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> tz <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">timeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create an instance that represents a specific time zone:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> laTz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>TimeZone</span><span class="token punctuation">(</span><span class="token string">'America/Los_Angeles'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or using the static method from ...</span><br><span class="token keyword">const</span> laTz <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>TimeZone<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'America/Los_Angeles'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Valid time zone identifiers are listed at <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>. and <a href="https://nodatime.org/TimeZones">https://nodatime.org/TimeZones</a>.</p><p>Instances of this class have the read-only property <code>name</code>.</p><p>Time zone offsets vary based on a date and time. Computing an offset requires an <code>Absolute</code>, typically the current value. To get the time zone offset for a given instance in nanoseconds or as a string:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> nowAbs <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">absolute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> currentOffset <span class="token operator">=</span> tz<span class="token punctuation">.</span><span class="token function">getOffsetNanosecondsFor</span><span class="token punctuation">(</span>nowAbs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// some large number</span><br><span class="token keyword">const</span> currentOffset <span class="token operator">=</span> tz<span class="token punctuation">.</span><span class="token function">getOffsetStringFor</span><span class="token punctuation">(</span>nowAbs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ex. -05:00</span><br><span class="token keyword">const</span> laOffset <span class="token operator">=</span> laTz<span class="token punctuation">.</span><span class="token function">getOffsetStringFor</span><span class="token punctuation">(</span>nowAbs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ex. -07:00</span></code></pre><p>To get a DateTime from a TimeZone and Absolute, <code>timeZone.getDateTimeFor(absolute)</code>.</p><p>To get an Absolute from a TimeZone and DateTime, <code>timeZone.getAbsoluteFor(dateTime)</code>.</p><p>To get the previous and next dates at which a daylight savings time change occurs in a given time zone:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> prevDst <span class="token operator">=</span> tz<span class="token punctuation">.</span><span class="token function">getPreviousTransition</span><span class="token punctuation">(</span>nowAbs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-03-08T08:00Z</span><br><span class="token keyword">const</span> nextDst <span class="token operator">=</span> tz<span class="token punctuation">.</span><span class="token function">getNextTransition</span><span class="token punctuation">(</span>nowAbs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-11-01T07:00Z</span></code></pre><p>To get the time zone identifier string from an instance, use <code>timeZone.toString()</code> which returns the value of the <code>name</code> property.</p><h3 id="temporal.datetime">Temporal.DateTime</h3><p>To create an instance that represents the current date/time:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> nowDt <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">dateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create an instance that represents a specific date/time:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Must pass year, month, and day.</span><br><span class="token comment">// Can optionally pass hour, minute, second,</span><br><span class="token comment">// millisecond, microsecond, nanosecond, and calendar.</span><br><span class="token keyword">const</span> dateTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>DateTime</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> dateTime <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>DateTime<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  year<span class="token operator">:</span> <span class="token number">1961</span><span class="token punctuation">,</span><br>  month<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span><br>  day<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span><br>  hour<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span><br>  minute<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span><br>  second<span class="token operator">:</span> <span class="token number">20</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> dateTime <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>DateTime<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'1961-04-16T10:19:20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a copy of an instance where certain properties are modified:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> hourLater <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hour<span class="token operator">:</span> dateTime<span class="token punctuation">.</span>hour <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Instances of this class have the read-only properties <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code>, <code>minute</code>, <code>second</code>, <code>millisecond</code>, <code>microsecond</code>, <code>nanosecond</code>, <code>calendar</code>, <code>era</code> (undefined for default calendar), <code>dayOfWeek</code>, <code>dayOfYear</code>, <code>weekOfYear</code>, <code>daysInYear</code>, <code>daysInMonth</code>, and <code>isLeapYear</code>.</p><p>Instance methods include:</p><ul><li><code>plus(duration)</code> returns a new <code>DateTime</code></li><li><code>minus(duration)</code> returns a new <code>DateTime</code></li><li><code>difference(other)</code> returns a <code>Duration</code></li><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;2020-09-01T17:55:23.700923686&quot;</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li><li><code>getFields()</code> returns an object containing all the read-only properties</li></ul><p>To create an <code>Absolute</code> from a <code>DateTime</code> and a <code>TimeZone</code>, <code>dateTime.toAbsolute(timeZone)</code>.</p><p>To create a <code>Date</code>, <code>dateTime.toDate()</code>.</p><p>To create a <code>YearMonth</code>, <code>dateTime.toYearMonth()</code>.</p><p>To create a <code>MonthDay</code>, <code>dateTime.toMonthDay()</code>.</p><p>To create a <code>Time</code>, <code>dateTime.toTime()</code>.</p><p>To compare two instances, use the static method <code>Temporal.DateTime.compare(dt1, dt2)</code>. This function can be passed to the JavaScript <code>Array</code> <code>sort</code> method to sort instances of this class.</p><h3 id="temporal.date">Temporal.Date</h3><p>To create an instance that represents the current date:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> now <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// current date</span></code></pre><p>To create an instance that represents a specific date:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Must pass year, month, and day.</span><br><span class="token comment">// Can optionally pass calendar.</span><br><span class="token keyword">const</span> birthday <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Date</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or from an object containing properties</span><br><span class="token keyword">const</span> birthday <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Date<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>year<span class="token operator">:</span> <span class="token number">1961</span><span class="token punctuation">,</span> month<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> day<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or create from a string</span><br><span class="token keyword">const</span> birthday <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Date<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'1961-04-16'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a copy of an instance where certain properties are modified:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> dayLater <span class="token operator">=</span> birthday<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>day<span class="token operator">:</span> birthday<span class="token punctuation">.</span>day <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This doesn't wrap values into the next unit. It just stops at the upper limit. For example, if 30 is added to the day, the day is set to the last day in the month.</p><p>Instances of this class have the read-only properties <code>year</code> (4-digit), <code>month</code> (1-based), <code>day</code> (0=Monday, ..., 6=Sunday), <code>calendar</code>, <code>era</code>, <code>dayOfWeek</code>, <code>dayOfYear</code>, <code>weekOfYear</code>, <code>daysInYear</code>, and <code>isLeapYear</code>.</p><p>To get the day of the week from an instance:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">DAYS</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>  <span class="token string">''</span><span class="token punctuation">,</span><br>  <span class="token string">'Monday'</span><span class="token punctuation">,</span><br>  <span class="token string">'Tuesday'</span><span class="token punctuation">,</span><br>  <span class="token string">'Wednesday'</span><span class="token punctuation">,</span><br>  <span class="token string">'Thursday'</span><span class="token punctuation">,</span><br>  <span class="token string">'Friday'</span><span class="token punctuation">,</span><br>  <span class="token string">'Saturday'</span><span class="token punctuation">,</span><br>  <span class="token string">'Sunday'</span><br><span class="token punctuation">]</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><br>  <span class="token string">'birthday ='</span><span class="token punctuation">,</span><br>  birthday<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token string">'on a'</span><span class="token punctuation">,</span><br>  <span class="token constant">DAYS</span><span class="token punctuation">[</span>birthday<span class="token punctuation">.</span>dayOfWeek<span class="token punctuation">]</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To get the number of days between two dates:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> otherBirthday <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Date</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> diff <span class="token operator">=</span> otherBirthday<span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'difference in days ='</span><span class="token punctuation">,</span> diff<span class="token punctuation">.</span>days<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a <code>DateTime</code> from a <code>Date</code> and a <code>Time</code>, <code>date.toDateTime(time)</code>.</p><p>To create a <code>YearMonth</code> from a <code>Date</code>, <code>date.toYearMonth()</code>.</p><p>To create a <code>MonthDay</code> from a <code>Date</code>, <code>date.toMonthDay()</code>.</p><p>Other instance methods include:</p><ul><li><code>plus(duration)</code> returns a new <code>Date</code></li><li><code>minus(duration)</code> returns a new <code>Date</code></li><li><code>difference(other)</code> returns a <code>Duration</code></li><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;2020-09-01&quot;</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li><li><code>getFields()</code> returns an object containing all the read-only properties</li></ul><p>To compare two instances, use the static method <code>Temporal.Date.compare(d1, d2)</code>. This function can be passed to the JavaScript <code>Array</code> <code>sort</code> method to sort instances of this class.</p><h3 id="temporal.yearmonth">Temporal.YearMonth</h3><p>To create an instance that represents a specific year/month:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Must pass year and month.</span><br><span class="token comment">// Can optionally pass calendar.</span><br><span class="token keyword">const</span> ym <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>YearMonth</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> ym <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>YearMonth<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>year<span class="token operator">:</span> <span class="token number">1961</span><span class="token punctuation">,</span> month<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> ym <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>YearMonth<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'1961-04'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a copy of an instance where certain properties are modified:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> monthLater <span class="token operator">=</span> ym<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>month<span class="token operator">:</span> ym<span class="token punctuation">.</span>month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This doesn't wrap values into the next unit. It just stops at the upper limit. For example, if 11 is added to the month, the month is set to 12.</p><p>Instances of this class have the read-only properties <code>year</code>, <code>month</code>, <code>calendar</code>, <code>era</code>, <code>daysInMonth</code>, <code>daysInYear</code>, and <code>isLeapYear</code>.</p><p>console.log('year/month =', ym.toString()); // 1961-04</p><p>Instance methods include:</p><ul><li><code>plus(duration)</code> returns a new <code>YearMonth</code></li><li><code>minus(duration)</code> returns a new <code>YearMonth</code></li><li><code>difference(other)</code> returns a <code>Duration</code></li><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;1961-04&quot;</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li><li><code>getFields()</code> returns an object containing all the read-only properties</li></ul><p>To create a <code>Date</code> for a given day within the <code>YearMonth</code>, <code>yearMonth.toDateOnDay(day)</code>. For example:</p><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'date on 16th ='</span><span class="token punctuation">,</span> ym<span class="token punctuation">.</span><span class="token function">toDateOnDay</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1961-04-16</span></code></pre><p>To compare two instances, use the static method <code>Temporal.YearMonth.compare(ym1, ym2)</code>. This function can be passed to the JavaScript <code>Array</code> <code>sort</code> method to sort instances of this class.</p><h3 id="temporal.monthday">Temporal.MonthDay</h3><p>To create an instance that represents a specific year/month:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Must pass month and day.</span><br><span class="token comment">// Can optionally pass calendar.</span><br><span class="token keyword">const</span> md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>MonthDay</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> md <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>MonthDay<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>month<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> day<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> md <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>MonthDay<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'04-16'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a copy of an instance where certain properties are modified:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> dayLater <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>day<span class="token operator">:</span> md<span class="token punctuation">.</span>day <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This doesn't wrap values into the next unit. It just stops at the upper limit. For example, if 30 is added to the day, the day is set to the last day in the month.</p><p>Instances of this class have the read-only properties <code>month</code>, <code>day</code>, and <code>calendar</code>.</p><p>console.log('md =', md.toString()); // 04-16</p><p>To create a <code>Date</code> from a <code>MonthDay</code> and a year number, <code>monthDay.toDateInYear(year)</code>. For example:</p><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'date in year ='</span><span class="token punctuation">,</span> md<span class="token punctuation">.</span><span class="token function">toDateInYear</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1961-04-16</span></code></pre><p>Other instance methods include:</p><ul><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;04-16&quot;</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li><li><code>getFields()</code> returns an object containing all the read-only properties</li></ul><p>Why doesn't this class support the static method <code>compare</code> for comparing two instances?</p><h3 id="temporal.time">Temporal.Time</h3><p>To create an instance that represents the current time:</p><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> nowT <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create an instance that represents a specific time:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Can pass hour, minute, second, millisecond, microsecond, and nanosecond.</span><br><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Time</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> t <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Time<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hour<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> minute<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> t <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Time<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'01:02:03'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a copy of an instance where certain properties are modified:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> minuteLater <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>day<span class="token operator">:</span> t<span class="token punctuation">.</span>minute <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This doesn't wrap values into the next unit. It just stops at the upper limit. For example, if 59 is added to the minute, the minute is set to 60.</p><p>Instances of this class have the read-only properties <code>hour</code>, <code>minute</code>, <code>second</code>, <code>millisecond</code>, <code>microsecond</code>, and <code>nanosecond</code>.</p><p>console.log('time =', t.toString()); console.log('time =', t.toString()); // 01:02:03</p><p>Instance methods include:</p><ul><li><code>plus(duration)</code> returns a new <code>Time</code></li><li><code>minus(duration)</code> returns a new <code>Time</code></li><li><code>difference(other)</code> returns a <code>Duration</code></li><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;01:02:03&quot;</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li><li><code>getFields()</code> returns an object containing all the read-only properties</li></ul><p>To compare two instances, use the static method <code>Temporal.Time.compare(ym1, ym2)</code>.</p><h3 id="temporal.duration">Temporal.Duration</h3><p>To create an instance:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Can pass years, months, weeks, days, hours, minutes, seconds,</span><br><span class="token comment">// milliseconds, microseconds, and nanoseconds.</span><br><span class="token comment">// 2 hours 57 minutes 11 seconds</span><br><span class="token keyword">const</span> dur <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temporal<span class="token punctuation">.</span>Duration</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> dur <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hours<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> minutes<span class="token operator">:</span> <span class="token number">57</span><span class="token punctuation">,</span> seconds<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> dur <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'PT02H57M11S'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To create a copy of an instance where certain properties are modified:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> extraHour <span class="token operator">=</span> dur<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hours<span class="token operator">:</span> dur<span class="token punctuation">.</span>hours <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 hours 57 minutes 11 seconds</span></code></pre><p>Instances of this class have the read-only properties <code>years</code>, <code>months</code>, <code>weeks</code>, <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>microseconds</code>, <code>nanoseconds</code>, and <code>sign</code>.</p><p>To add one <code>Duration</code> to another, creating a new <code>Duration</code>:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> newDur <span class="token operator">=</span> dur<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>Temporal<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>seconds<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// or</span><br><span class="token keyword">const</span> newDur <span class="token operator">=</span> dur<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">{</span>seconds<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// better</span></code></pre><p>Either way the result is 75 seconds, not 1 minute and 15 seconds. This seems unexpected.</p><p>To create a negated instance, <code>duration.negated()</code>.</p><p>To create a non-negated instance, <code>duration.abs()</code>.</p><p>Other instance methods include:</p><ul><li><code>plus(duration)</code> returns a new <code>Duration</code></li><li><code>minus(duration)</code> returns a new <code>Duration</code></li><li><code>equals(other)</code> returns a <code>boolean</code></li><li><code>toString()</code> - ex. &quot;PT2H57M11S&quot; (2 hrs 57 min 11 sec)</li><li><code>toLocaleString()</code> can be passed optional formatting arguments</li><li><code>getFields()</code> returns an object containing all the read-only properties</li></ul><h3 id="temporal.calendar">Temporal.Calendar</h3><p>Supported calendar systems currently only include:</p><ul><li>ISO8601 (same as Gregorian, but adds week numbering)</li><li>Gregorian</li><li>Japanese</li></ul><p>By default the ISO8601 calendar is used.</p><p>This class and instances of it are not typically accessed directly.</p></article>