<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><link rel="stylesheet" href="/blog/assets/github-extensions.css"><h2>D3 Overview</h2><p>D3 stands for Data-Driven Documents. The main website is at <a href="https://d3js.org">https://d3js.org</a>. To see examples, click the &quot;Examples&quot; link near the top.</p><p>D3 uses HTML, CSS, JavaScript, the DOM, and SVG.</p><p>The D3 JavaScript API uses CSS selectors to find elements in the DOM that it modifies. It also provides methods to append elements and text nodes, set attributes, and modify text content. In this respect it has overlap with jQuery functionality.</p><h2>Basic Example</h2><pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>My D3 Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://d3js.org/d3.v3.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>This is a paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>      <span class="token comment">// To change the text in the p element above ...</span><br>      d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// To add a p element including text to the body ...</span><br>      d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2>API Basics</h2><p>To select the first occurrence of an element with a given name inside a parent element<br><code>.select(<i>childElementName</i>)`</code></p><p>To select all occurrences of elements with a given name inside a parent element<br><code>.selectAll(<i>childElementName</i>)`</code></p><p>To append a new element with a given name to a parent element<br><code>.append(<i>elementName</i>)`</code></p><p>To set an attribute on an element<br><code>.attr(<i>property</i>, <i>name</i>)`</code></p><p>For example, to translate an element such as an SVG <code>g</code>(for group),<br><code>.attr('transform', 'translate(100, 50))`</code></p><p>To set a CSS style property on an element<br><code>.style(<i>property</i>, <i>name</i>)</code></p><p>To add a CSS class to an element<br><code>.classed(<i>className</i>, true)</code></p><p>To set the text content of an element<br><code>.text(<i>textValue</i>, true)</code></p><p>To set the HTML content of an element<br><code>.html(<i>htmlString</i>, true)</code></p><p>For example:</p><p><img src="/blog/assets/d3-dom-basics.png" alt="DOM Basics"></p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>D3 DOM basics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><br>      <span class="token selector">.bordered</span> <span class="token punctuation">{</span><br>        <span class="token property">border</span><span class="token punctuation">:</span> solid orange 3px<span class="token punctuation">;</span><br>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><br>        <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">button</span> <span class="token punctuation">{</span><br>        <span class="token property">font-size</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">button:disabled</span> <span class="token punctuation">{</span><br>        <span class="token property">border-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>      <span class="token keyword">const</span> lockUnicode <span class="token operator">=</span> <span class="token string">'&amp;#x1F512;'</span><span class="token punctuation">;</span><br>      d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'bordered'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'background-color'</span><span class="token punctuation">,</span> <span class="token string">'cornflowerblue'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'white'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'&lt;i>Hello, World!&lt;/i> '</span> <span class="token operator">+</span> lockUnicode<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2>data method</h2><p>The data method &quot;joins&quot; data values to DOM elements. For example, the following HTML contains an ordered list with three empty list items. The variable <code>letters</code> is an array holding three letters. We first select all the DOM list items. Then we use the <code>data</code> method to set their text to the values in the <code>letters</code> array.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>D3 data basic demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span><br><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>      <span class="token keyword">const</span> letters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">const</span> lis <span class="token operator">=</span> d3<br>        <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'ol'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>letters<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=></span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>The <code>data</code> method associates data values with the DOM elements to which they are added by setting the property <code>__data__</code> to the value. For example, the first <code>li</code> DOM element above will have a <code>__data__</code> property set to <code>a</code>. To see this in the browser DevTools, enter the following in the Console: <code>document.querySelector('li').__data__</code>.</p><p>There are three possibilities to consider when the <code>data</code> method joins data values to DOM elements.</p><ol><li>The number of data values is equal to the number target DOM elements.</li><li>There are more data values, so new target DOM elements to be added.</li><li>There are fewer data values, so some target DOM elements need to be removed.</li></ol><p>The <code>data</code> method supports the last two possibilities by returning what is referred to as an &quot;update selection&quot;. This holds two collections referred to as the &quot;enter selection&quot; and &quot;exit selection&quot;. If the number of data values is greater than the number of targeted DOM elements, the excess data values are placed in the enter selection. If the number of targeted DOM elements is greater than the number of data values, the excess DOM elements are placed in the &quot;exit selection&quot;.</p><h2>enter and exit methods</h2><p>The <code>enter</code> and <code>exit</code> methods are useful when rendering data where the target DOM elements do not exist yet or the number of data values can change, perhaps in response to user interactions.</p><p>The <code>enter</code> and <code>exit</code> methods can be called on an update selection returned by the <code>data</code> method. The <code>enter</code> method iterates over its enter selection. The <code>exit</code> method iterates over its exit selection.</p><p>The example below illustrates this. The variable <code>letters</code> holds an array of letters, 'a' through 'e'. These are rendered as list items in an ordered list by calling the <code>populateList</code> function. The ordered list begins with two empty list items. These list items have assigned CSS class names so we can identify them when inspecting the DOM.</p><p>Since we initially have more data values (5) than list items (2), new list items need to be created. After the initial data values are used to populate the existing list items, the <code>enter</code> method iterates over the remaining data values. We follow this with a call to append a new list item and then set its text. Note that the text is the uppercase version of the letter so it's easy to see which list items were populated using <code>enter</code>.</p><p>Pressing the &quot;Remove One&quot; button invokes the <code>removeOne</code> function. This removes the last element from the <code>letters</code> array and calls the <code>populateList</code> function again. Now there are five list item elements, so there is no work for the <code>enter</code> method to do. We can tell that the <code>enter</code> method isn't responsible for any of the current list item values because all of them are lowercase letters now.</p><p>The <code>exit</code> method iterates over the unused list item DOM elements. Since we went from having five data values to four, there is now one unused list item DOM element. We follow the call to <code>exit</code> with a call to <code>remove</code> to remove the excess DOM elements. Without this line of code, the list item DOM element for 'e' would still be present.</p><p>This process repeats each time the &quot;Remove One&quot; button is pressed, removing one more value for the end of the <code>letters</code> array and removing one more list item element from the DOM.</p><p>Pressing the &quot;Add One&quot; button invokes the <code>addOne</code> function. This adds an <code>x</code> to the end of the <code>letters</code> array and calls the <code>populateList</code> function again. Now there is work for the <code>enter</code> method to do because there are not enough list item DOM elements to hold all the values in the <code>letters</code> array. We can tell that the <code>enter</code> method is responsible for adding the new value because it will be uppercase.</p><p>In typical usage, initially there are no existing target DOM elements to hold data values and they all need to be created using the <code>enter</code> method.</p><p>The <code>exit</code> method is only needed if the number of data values might be reduced after they are initially rendered. If the <code>exit</code> method is not used, excess DOM elements will be retained.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>D3 enter/exit demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>first<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>second<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span><br><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>addOne()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Add One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>removeOne()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Remove One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>      <span class="token keyword">const</span> letters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">function</span> <span class="token function">populateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> lis <span class="token operator">=</span> d3<br>          <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'ol'</span><span class="token punctuation">)</span><br>          <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><br>          <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>letters<span class="token punctuation">)</span><br>          <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=></span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        lis<br>          <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>          <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><br>          <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=></span> d<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        lis<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token keyword">function</span> <span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        letters<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">populateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token keyword">function</span> <span class="token function">removeOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        letters<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">populateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token function">populateList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>For another explanation of the <code>data</code>, <code>enter</code>, and <code>exit</code> methods, see <a href="https://medium.com/@c_behrens/enter-update-exit-6cafc6014c36">https://medium.com/@c_behrens/enter-update-exit-6cafc6014c36</a>,</p><h2>Basic SVG Drawing</h2><p><img src="/blog/assets/d3-svg-basics.png" alt="SVG Basics"></p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>D3 SVG basics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>      <span class="token keyword">const</span> svg <span class="token operator">=</span> d3<br>        <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      svg<br>        <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke-width'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      svg<br>        <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'circle'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'cx'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'cy'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke-width'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      svg<br>        <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'line'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x1'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y1'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x2'</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y2'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke-linecap'</span><span class="token punctuation">,</span> <span class="token string">'round'</span><span class="token punctuation">)</span> <span class="token comment">// other values are 'butt' and 'square'</span><br>        <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'stroke-width'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2>Basic Bar Charts</h2><p><img src="/blog/assets/d3-svg-bar-chart.png" alt="basic SVG bar chart"></p><h3>index.html</h3><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>D3 SVG Bar Chart<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><br>      <span class="token selector">body</span> <span class="token punctuation">{</span><br>        <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">rect</span> <span class="token punctuation">{</span><br>        <span class="token property">fill</span><span class="token punctuation">:</span> cornflowerblue<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">text</span> <span class="token punctuation">{</span><br>        <span class="token property">fill</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>barchart.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h3>barchart.js</h3><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> barHeight <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> barMargin <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">// vertical spacing between</span><br><span class="token keyword">const</span> barTotal <span class="token operator">=</span> barHeight <span class="token operator">+</span> barMargin<span class="token punctuation">;</span><br><span class="token keyword">const</span> players <span class="token operator">=</span> <span class="token punctuation">[</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Tami'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Amanda'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Jeremy'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> svgWidth <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> svgHeight <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span><br><br><span class="token comment">// Get the highest score.</span><br><span class="token keyword">const</span> highScore <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>players<span class="token punctuation">,</span> <span class="token parameter">player</span> <span class="token operator">=></span> player<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create a linear scale that maps values from zero to the maximum score</span><br><span class="token comment">// to values from zero to the width of the SVG.</span><br><span class="token keyword">const</span> widthScale <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> highScore<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> svgWidth<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create an SVG element.</span><br><span class="token keyword">const</span> svg <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> svgWidth<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> svgHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create a selection containing one SVG group for each data value</span><br><span class="token comment">// that are translated in the y-direction so they are visually separated.</span><br><span class="token keyword">const</span> barGroups <span class="token operator">=</span> svg<br>  <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>players<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i <span class="token operator">*</span> barTotal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create a rect for each data value.</span><br>barGroups<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token parameter">player</span> <span class="token operator">=></span> <span class="token function">widthScale</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> barHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create text for each data value that displays a player name.</span><br>barGroups<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">player</span> <span class="token operator">=></span> player<span class="token punctuation">.</span>name<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// at beginning of bar</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> barTotal <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// centered vertically</span><br><br><span class="token comment">// Create text for each data value that displays a player score.</span><br>barGroups<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">player</span> <span class="token operator">=></span> player<span class="token punctuation">.</span>score<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token parameter">player</span> <span class="token operator">=></span> <span class="token function">widthScale</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token comment">// at end of bar</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> barTotal <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// centered vertically</span></code></pre><h2>Adding Axes</h2><p>The D3 methods to create axes do so by mapping a data range to a width to a pixel range. They draw an axis containing tick marks and values. But they do not position the axes relative to a chart. That part is up to you.</p><p>There are four methods for creating an axis. They are <code>axisBottom</code>, <code>axisLeft</code>, <code>axisTop</code>, and <code>axisRight</code>. The differ in the orientation of the axis (horizontal or vertical) and the side of the axis on where tick marks appear.</p><p>The <code>ticks</code> method specifies the number of ticks to display. They will be spaced evenly across the axis.</p><p>The <code>tickFormat</code> method can be set to a function that takes a tick index and returns the label to render for that tick. Pass an empty string to render an empty tick label for all of them.</p><p>The <code>tickSize</code> method specifies the length of each tick. It defaults to 6. Set it to a negative number to draw lines across the chart. For example, <code>.tickSize(-usableHeight)</code>.</p><p>The <code>tickPadding</code> method specifies the space between each tick and corresponding label. It defaults to 3.</p><p>The <code>tickValues</code> method takes an array of labels to be rendered for the ticks. By default the data value is rendered.</p><p><img src="/blog/assets/d3-svg-bar-chart-with-axes.png" alt="SVG bar chart with axes"></p><h3>index.html with axes</h3><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>D3 SVG Bar Chart<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><br>      <span class="token selector">.bar text</span> <span class="token punctuation">{</span><br>        <span class="token property">fill</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><br>        <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">body</span> <span class="token punctuation">{</span><br>        <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">.major-x-axis > .tick > line</span> <span class="token punctuation">{</span><br>        <span class="token property">stroke-width</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">.minor-x-axis</span> <span class="token punctuation">{</span><br>        <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">rect</span> <span class="token punctuation">{</span><br>        <span class="token property">fill</span><span class="token punctuation">:</span> cornflowerblue<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">svg</span> <span class="token punctuation">{</span><br>        <span class="token property">background-color</span><span class="token punctuation">:</span> linen<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">.tooltip</span> <span class="token punctuation">{</span><br>        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><br>        <span class="token property">background</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span><br>        <span class="token property">border</span><span class="token punctuation">:</span> solid gray 1px<span class="token punctuation">;</span><br>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span><br>        <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token comment">/* initially hidden */</span><br>        <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span><br>        <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token selector">.y-axis .domain</span> <span class="token punctuation">{</span><br>        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>barchart.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h3>barchart.js with axes</h3><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">BAR_HEIGHT</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token constant">BAR_MARGIN</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">// vertical spacing between</span><br><span class="token keyword">const</span> <span class="token constant">LEFT_PADDING</span> <span class="token operator">=</span> <span class="token number">70</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token constant">PADDING</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token constant">SVG_WIDTH</span> <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> barTotal <span class="token operator">=</span> <span class="token constant">BAR_HEIGHT</span> <span class="token operator">+</span> <span class="token constant">BAR_MARGIN</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> players <span class="token operator">=</span> <span class="token punctuation">[</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Tami'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Amanda'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Jeremy'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">68</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Dasher'</span><span class="token punctuation">,</span> score<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token comment">// Leave room for top PADDING, bottom PADDING, and x axis.</span><br><span class="token keyword">const</span> svgHeight <span class="token operator">=</span> <span class="token constant">PADDING</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> players<span class="token punctuation">.</span>length <span class="token operator">*</span> barTotal<span class="token punctuation">;</span><br><span class="token keyword">const</span> usableHeight <span class="token operator">=</span> svgHeight <span class="token operator">-</span> <span class="token constant">PADDING</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> usableWidth <span class="token operator">=</span> <span class="token constant">SVG_WIDTH</span> <span class="token operator">-</span> <span class="token constant">LEFT_PADDING</span> <span class="token operator">-</span> <span class="token constant">PADDING</span><span class="token punctuation">;</span><br><br><span class="token comment">// Get the highest score rounded up to the nearest multiple of 10.</span><br><span class="token keyword">const</span> highScore <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>players<span class="token punctuation">,</span> <span class="token parameter">player</span> <span class="token operator">=></span> player<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create a linear scale that maps values from zero to the maximum score</span><br><span class="token comment">// to values from zero to the width of the SVG.</span><br><span class="token keyword">const</span> widthScale <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> highScore<span class="token punctuation">]</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> usableWidth<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create an SVG element.</span><br><span class="token keyword">const</span> svg <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token constant">SVG_WIDTH</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> svgHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> tooltip <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'tooltip'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create a selection containing one SVG group for each data value</span><br><span class="token comment">// that are translated in the y-direction so they are visually separated.</span><br><span class="token keyword">const</span> barGroups <span class="token operator">=</span> svg<br>  <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>players<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><br>    <span class="token string">'transform'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">LEFT_PADDING</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PADDING</span> <span class="token operator">+</span> i <span class="token operator">*</span> barTotal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create a rect for each data value.</span><br>barGroups<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token parameter">player</span> <span class="token operator">=></span> <span class="token function">widthScale</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token constant">BAR_HEIGHT</span><span class="token punctuation">)</span><br>  <span class="token comment">// Cannot use an arrow function because we need the value of "this".</span><br>  <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">player</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Configure the tooltip.</span><br>    tooltip<br>      <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>score<span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span> d3<span class="token punctuation">.</span>event<span class="token punctuation">.</span>pageX <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">,</span> d3<span class="token punctuation">.</span>event<span class="token punctuation">.</span>pageY <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// Show the tooltip.</span><br>    tooltip<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// Fade the bar.</span><br>    d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'outline'</span><span class="token punctuation">,</span> <span class="token string">'solid red 1px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><br>  <span class="token comment">// Cannot use an arrow function because we need the value of "this".</span><br>  <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Hide the tooltip.</span><br>    tooltip<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// Restore the bar opacity.</span><br>    d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'outline'</span><span class="token punctuation">,</span> <span class="token string">'none'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Create text for each data value that displays a player score.</span><br>barGroups<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">player</span> <span class="token operator">=></span> player<span class="token punctuation">.</span>score<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token parameter">player</span> <span class="token operator">=></span> <span class="token function">widthScale</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token comment">// at end of bar</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> barTotal <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// centered vertically</span><br><br><span class="token keyword">const</span> xAxisScale <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> highScore<span class="token punctuation">]</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> usableWidth<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> xAxisMinor <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>xAxisScale<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">ticks</span><span class="token punctuation">(</span>highScore<span class="token punctuation">)</span> <span class="token comment">// show a tick at every 1</span><br>  <span class="token punctuation">.</span><span class="token function">tickFormat</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// hides labels</span><br>  <span class="token punctuation">.</span><span class="token function">tickSize</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// length of each tick (default is 6)</span><br><span class="token keyword">const</span> xAxisMajor <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>xAxisScale<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">ticks</span><span class="token punctuation">(</span>highScore <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// show a tick at every multiple of 10</span><br>  <span class="token comment">// highStore is guaranteed to be a multiple of 10.</span><br>  <span class="token punctuation">.</span><span class="token function">tickPadding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// space between end of tick and label; default is 3</span><br>  <span class="token punctuation">.</span><span class="token function">tickSize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">//.tickSize(-usableHeight); // to draw across chart</span><br><span class="token keyword">const</span> xAxisTransform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">LEFT_PADDING</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><br>  <span class="token constant">PADDING</span> <span class="token operator">+</span> players<span class="token punctuation">.</span>length <span class="token operator">*</span> barTotal<br><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>svg<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xAxisMinor<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'minor-x-axis'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> xAxisTransform<span class="token punctuation">)</span><span class="token punctuation">;</span><br>svg<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xAxisMajor<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'major-x-axis'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> xAxisTransform<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Generate tick values that will place the ticks</span><br><span class="token comment">// at the vertical center of each of the bars.</span><br><span class="token keyword">const</span> yTickValues <span class="token operator">=</span> players<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> yAxisScale <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span>players<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// reversed order</span><br>  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span>usableHeight<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// top to bottom</span><br><span class="token keyword">const</span> yAxis <span class="token operator">=</span> d3<br>  <span class="token punctuation">.</span><span class="token function">axisLeft</span><span class="token punctuation">(</span>yAxisScale<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">ticks</span><span class="token punctuation">(</span>players<span class="token punctuation">.</span>length<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">tickFormat</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> player <span class="token operator">=</span> players<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> player <span class="token operator">?</span> player<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">tickValues</span><span class="token punctuation">(</span>yTickValues<span class="token punctuation">)</span><span class="token punctuation">;</span><br>svg<br>  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>yAxis<span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">classed</span><span class="token punctuation">(</span><span class="token string">'y-axis'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">LEFT_PADDING</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PADDING</span> <span class="token operator">-</span> <span class="token constant">BAR_MARGIN</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2>Loading Data</h2><p>Discuss the <code>csv</code> and <code>json</code> methods.</p><h2>Geo</h2><p>See <a href="https://github.com/d3/d3-geo">https://github.com/d3/d3-geo</a>.</p>