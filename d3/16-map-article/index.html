<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><link rel="stylesheet" href="/blog/assets/github-extensions.css"><h2>D3 Maps Article</h2><h2>Introduction</h2><p>The previous article found here covers the basics of using D3 and shows how to create a fully-featured bar chart. This article expands on that knowledge to render geographic maps.</p><h2>SVG Paths</h2><p>SVG <code>path</code> and <code>polygon</code> elements can be used to draw the outline of a geographic area such as a country, state, or city.</p><p>The <code>path</code> element supports a large number of attributes, the most commonly used are the following:</p><ul><li><code>d</code> - a string of space-separated commands that describe what will be drawn</li><li><code>fill</code> - the color to be used to fill the shape</li><li><code>stroke</code> - the line color</li><li><code>stroke-width</code> - the line width</li></ul><p>There are many commands that can be specified in the value of the <code>d</code> attribute. Each command name is a single letter followed by one or more numbers. Uppercase commands specify absolute locations. Lowercase commands specify relative locations.</p><p>The M command moves to a given x and y location. The h command draws a horizontal line with a given dx. The v command draws a vertical line with a given dy. The l command draws a line with a given dx and dy.</p><p>By default the origin is the upper-left corner. The coordinate system can be flipped so the origin is in the lower-left corner by placing the SVG elements inside a group (<code>g</code>) element like the following that uses the <code>translate</code> and <code>scale</code> functions:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(0 12) scale(1 -1)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span></code></pre><h2>Latitude and Longitude</h2><p>A handy web site for finding the approximate latitude and longitude of any point on the earth can be found at <a href="http://teczno.com/squares">http://teczno.com/squares</a>. Simple zoom in/out and drag the map to location a spot of interest and note the reported latitude and longitude values.</p><p>SEE YOUR Development/D3 bookmarks in Chrome!</p><p>See http://mjmdavis.com/showing/2017/05/16/how-to-read-maps.html See https://bl.ocks.org/mbostock/3711652 See https://source.opennews.org/articles/choosing-right-map-projection/</p><h2>3D to 2D Projections</h2><h2>Finding Map Data</h2><p>We need two kinds of map data. One kind provides SVG path outlines of countries, states, and cities. Another kind provides data about geographic regions. Examples in include population and number of corona virus cases.</p><p>See https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html. See http://www.naturalearthdata.com/</p><p>TopoJSON is an efficient format for representing outlines of countries, states, and cities. It is more compact than GeoJSON which serves the same purpose.</p><h2>Using Data for Colors</h2><h2>Using Data for Tooltips</h2><h2>Adding Drag and Zoom</h2><h3>A generic approach</h3><h3>The D3-specific approach</h3>