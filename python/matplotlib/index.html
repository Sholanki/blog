<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>mapplotlib</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#line-charts">Line Charts</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://matplotlib.org/" rel="noopener" target="_blank">matplotlib</a> is a Python library for data visualization.</p><p>To install this package, enter <code>pip install matplotlib</code>.</p><p>The most commonly used submodule in matplotlib is <code>pylot</code>. To import this, use one of the following:</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt<br><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt</code></pre><p>Note that by convention the <code>plt</code> alias is used to refer to <code>pyplot</code>.</p><h2 id="line-charts">Line Charts</h2><p>To create a basic line chart:</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt<br><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<br><br>student_ids <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># [1, 2, 3, 4]</span><br>test1_scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">]</span><br>test2_scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>student_ids<span class="token punctuation">,</span> test1_scores<span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>student_ids<span class="token punctuation">,</span> test2_scores<span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>This produces the chart below:</p><p><img src="/blog/assets/line-chart-1.png" alt="line chart #1"></p><p>The chart automatically scales to accommodate the data and the x and y tick marks are automatically determined.</p><p>There are many ways to enhance this chart as shown in the table below.</p><table><thead><tr><th>Enhancement</th><th>Code</th></tr></thead><tbody><tr><td>add chart title</td><td><code>plt.title('Test Scores')</code></td></tr><tr><td>add x-axis label</td><td><code>plt.xlabel('Student')</code></td></tr><tr><td>add y-axis label</td><td><code>plt.ylabel('Score')</code></td></tr><tr><td>add label to a line</td><td><code>plt.plot(x_values, y_values, label='test #1')</code></td></tr><tr><td>set color of a line</td><td><code>plt.plot(x_values, y_values, color='red')</code></td></tr><tr><td>set width of a line</td><td><code>plt.plot(x_values, y_values, linewidth=3)</code></td></tr><tr><td>set line style</td><td><code>plt.plot(x_values, y_values, linestyle='--')</code></td></tr><tr><td>add legend</td><td><code>plt.legend()</code></td></tr><tr><td>set x ticks</td><td><code>plt.xticks(student_ids)</code></td></tr><tr><td>set y ticks</td><td><code>plt.yticks(y_ticks)</code></td></tr></tbody></table><p>The <code>xticks</code> and <code>yticks</code> methods override tick marks that are automatically provided. They are desirable in this case because our student numbers are integers, not values like 1.5 or 2.5.</p><p>To change the font uses, add a <code>fontdict</code> argument to some of these method calls. For example, to change the font used for the chart title we can change the call to the <code>title</code> method as follows:</p><pre class="language-python"><code class="language-python">plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Test Scores'</span><span class="token punctuation">,</span> fontdict<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'fontname'</span><span class="token punctuation">:</span> <span class="token string">'Comic Sans MS'</span><span class="token punctuation">,</span><span class="token string">'fontsize'</span><span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Colors can be specified by name or by hex code following by a pound sign. To specify the color of a line, add a <code>color</code> argument.</p><p>The lines are solid by default. To specify another line style, add a <code>linestyle</code> argument. Supported line styles include:</p><table><thead><tr><th>Style</th><th>Syntax</th></tr></thead><tbody><tr><td>solid</td><td><code>'solid'</code> or <code>'-'</code></td></tr><tr><td>dotted</td><td><code>'dotted'</code> or <code>':'</code></td></tr><tr><td>dashed</td><td><code>'dashed'</code> or <code>'--'</code></td></tr><tr><td>dashdot</td><td><code>'dashdot'</code> or <code>'-.'</code></td></tr></tbody></table><p>For more line style variations, see <a href="https://matplotlib.org/3.1.0/gallery/lines_bars_and_markers/linestyles.html" rel="noopener" target="_blank">matplotlib Linestyles</a>.</p><p>Markers are shapes that can be rendered at data points. The data points on the lines do not include markers by default. To add markers to a line, specify a <code>marker</code> argument. Marker values include:</p><table><thead><tr><th>Marker</th><th>Syntax</th></tr></thead><tbody><tr><td>point</td><td><code>'.'</code></td></tr><tr><td>pixel</td><td><code>','</code></td></tr><tr><td>circle</td><td><code>'o'</code></td></tr><tr><td>plus</td><td><code>'+'</code></td></tr><tr><td>x</td><td><code>'x'</code></td></tr><tr><td>diamond</td><td><code>'D'</code></td></tr><tr><td>diamond thin</td><td><code>'d'</code></td></tr><tr><td>triangle down</td><td><code>'v'</code></td></tr><tr><td>triangle up</td><td><code>'^'</code></td></tr><tr><td>triangle left</td><td><code>'&lt;'</code></td></tr><tr><td>triangle right</td><td><code>'&gt;'</code></td></tr><tr><td>square</td><td><code>'s'</code></td></tr><tr><td>pentagon</td><td><code>'p'</code></td></tr><tr><td>hexagon</td><td><code>'h'</code></td></tr><tr><td>hexagon rotated</td><td><code>'H'</code></td></tr><tr><td>octagon</td><td><code>'8'</code></td></tr><tr><td>plus filled</td><td><code>'P'</code></td></tr><tr><td>star</td><td><code>'*'</code></td></tr></tbody></table><p>For more marker variations, see <a href="https://matplotlib.org/api/markers_api.html" rel="noopener" target="_blank">matplotlib Markers</a>.</p><p>To change the size of markers, specify a <code>markersize</code> argument.</p><p>Markers are composed of two parts, an edge (border) and a face (interior). By default, both have the same color as the line on which they appear. To change the marker color, specify the <code>markeredgecolor</code> and/or <code>markerfacecolor</code> arguments.</p><p>Let's try some of these enhancements.</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt<br><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<br><br>student_ids <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># [1, 2, 3, 4]</span><br>test1_scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">]</span><br>test2_scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><br>    student_ids<span class="token punctuation">,</span> test1_scores<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span><br>    label<span class="token operator">=</span><span class="token string">'test #1'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span><br>    markersize<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> markerfacecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><br>    student_ids<span class="token punctuation">,</span> test2_scores<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span><br>    label<span class="token operator">=</span><span class="token string">'test #2'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">':'</span><span class="token punctuation">,</span><br>    marker<span class="token operator">=</span><span class="token string">'s'</span><span class="token punctuation">,</span> markerfacecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><br>    <span class="token string">'Test Scores'</span><span class="token punctuation">,</span><br>    fontdict<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'fontname'</span><span class="token punctuation">:</span> <span class="token string">'Comic Sans MS'</span><span class="token punctuation">,</span><span class="token string">'fontsize'</span><span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Student'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Score'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>student_ids<span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>With all of these enhancements in place, the chart becomes the following:</p><p><img src="/blog/assets/line-chart-2.png" alt="line chart #2"></p><p>To save a plot in a PNG file:</p><pre class="language-python"><code class="language-python">plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span></code></pre><p>It's easy to plot functions. For example:</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt<br><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<br><br>f <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">/</span> <span class="token number">10</span><br>x_values <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>pi<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x_values<span class="token punctuation">,</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x_values<span class="token punctuation">)</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'sin'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x_values<span class="token punctuation">,</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>x_values<span class="token punctuation">)</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'cos'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x_values<span class="token punctuation">,</span> f<span class="token punctuation">(</span>x_values<span class="token punctuation">)</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'x^2 / 10'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Some Functions'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'radians'</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span><br>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><img src="/blog/assets/line-chart-3.png" alt="line chart #3"></p><p>TODO: Add something on <code>plt.gcf().tight_layout()</code> which adjusts the padding between and around subplots. What is a subplot?</p><p>TODO: How do you change the chart background color?</p><p>TODO: Cover xkcd theme.</p><p>More detail is coming soon!</p></article>