<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Filters</title>

    <meta charset="utf-8">
    <meta name="description" content="11ty site documenting 11ty">
    <meta name="theme-color" content="cornflowerblue">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="/blog/assets/mark-volkmann-192.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/blog/assets/favicon-blue.png">
    <link rel="manifest" href="/blog/assets/manifest.json">
    
    <link rel="preload" as="style" href="/blog/assets/styles.css">
    <link rel="stylesheet" href="/blog/assets/styles.css">

    <!-- This is for use with eleventy-plugin-syntaxhighlight. -->
    <link rel="preload" as="style" href="/blog/assets/prism-a11y.css">
    <link rel="stylesheet" href="/blog/assets/prism-a11y.css" />

    <!-- I commented this out during testing so all files
         are loaded from the network instead of the cache.
         See https://github.com/okitavera/eleventy-plugin-pwa/issues/5. -->
    <!--script>
      if ("serviceWorker" in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/blog/service-worker.js');
        })
      }
    </script--> 
  </head>
  <body>
    <h1>Mark Volkmann's Blog</h1>
    <main>
      <nav> <!-- for accessible page navigation -->
        <h3>Intro. Topics</h3>
        <ul><li><a href="/blog/ssgs/">Static Site Generators</a></li>
<li><a href="/blog/why-11ty/">Why 11ty?</a></li>
<li><a href="/blog/11ty-overview/">11ty Overview</a></li>
<li><a href="/blog/getting-started/">Getting Started</a></li>
<li><a href="/blog/11ty-configuration/">11ty Configuration</a></li>
<li><a href="/blog/github-pages/">GitHub Pages</a></li></ul>
        <hr>
        <h3>More Topics</h3>
        <!-- This uses the sort filter in Nunjucks. -->
        <ul><li><a href="/blog/collections/">Collections</a></li>
<li><a href="/blog/data-cascade/">Data Cascade</a></li>
<li><a href="/blog/debugging-tips/">Debugging Tips</a></li>
<li><a href="/blog/front-matter/">Front Matter</a></li>
<li><a href="/blog/global-data/">Global Data</a></li>
<li><a href="/blog/internationalization/">Internationalization</a></li>
<li><a href="/blog/markdown/">Markdown</a></li>
<li><a href="/blog/pagination/">Pagination</a></li>
<li><a href="/blog/permalinks/">Permalinks</a></li>
<li><a href="/blog/rest-services/">REST Services</a></li>
<li><a href="/blog/shortcodes/">Shortcodes</a></li>
<li><a href="/blog/styling/">Styling</a><ul><li><a href="/blog/styling-with-sass/">Styling with Sass</a></li></ul></li>
<li><a href="/blog/templating-languages/">Templating Languages</a></li>
<li><a href="/blog/yaml/">YAML</a></li>
<li><a href="/blog/nunjucks/">Nunjucks</a></li>
<li><a href="/blog/filters/">Filters</a></li>
<li><a href="/blog/">Welcome!</a></li>
<li><a href="/blog/plugins/">Plugins</a><ul><li><a href="/blog/syntax-highlighting/">Syntax Highlighting</a></li>
<li><a href="/blog/navigation-plugin/">Navigation Plugin</a></li></ul></li></ul>
      </nav>
      
      <section>
        <h2>Filters</h2> <!-- uses a variable defined in front matter -->
        <!-- Page content is inserted here. -->
        <p>See <a href="https://www.11ty.dev/docs/filters/">https://www.11ty.dev/docs/filters/</a>.</p>
<p>Filters take a value and return a potentially different value.
When used with Liquid and Nunjucks,
they appear inside interpolations after a vertical bar.
For example:</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token operator">&lt;</span>h3<span class="token operator">></span>{{ title <span class="token operator">|</span> uppercase }}<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span></code></pre>
<p>Universal filters can be used with
Handlebars, JavaScript, Liquid, and Nunjucks.
The provided universal filters are
<code>get*CollectionItem</code>, <code>log</code>, <code>slug</code>, and <code>url</code>.
Note that the <code>get*CollectionItem</code> and <code>log</code> filters
are coming in version 0.11.0.</p>
<p>Nunjucks provides the following filters documented at
<a href="https://mozilla.github.io/nunjucks/templating.html#builtin-filters">https://mozilla.github.io/nunjucks/templating.html#builtin-filters</a>:
<code>abs</code>, <code>batch</code>, <code>capitalize</code>, <code>center</code>, <code>default</code>, <code>dictsort</code>,
<code>dump</code>, <code>escape</code>, <code>first</code>, <code>float</code>, <code>forceescape</code>, <code>groupby</code>,
<code>indent</code>, <code>int</code>, <code>join</code>, <code>last</code>, <code>length</code>, <code>list</code>, <code>lower</code>,
<code>nl2br</code>, <code>random</code>, <code>rejectattr</code>, <code>replace</code>, <code>reverse</code>, <code>round</code>,
<code>safe</code>, <code>selectattr</code>, <code>slice</code>, <code>sort</code>, <code>string</code>, <code>sum</code>, <code>title</code>,
<code>trim</code>, <code>truncate</code>, <code>upper</code>, <code>urlencode</code>, <code>urlize</code>, and <code>wordcount</code>.</p>
<p>Note that the Nunjucks <code>sort</code> filter can only sort on top-level properties.
See <a href="https://github.com/11ty/eleventy/issues/911">https://github.com/11ty/eleventy/issues/911</a>.</p>
<p>You can implemented custom filters in the 11ty configuration file,
typically <code>.eleventy.js</code>.
Here is a filter that doesn't do or change anything:</p>
<pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'myFilter'</span><span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> value<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Here is a custom filter for sorting.
It expects its value to be an array of objects.
It takes an argument that specifies the property in the objects
that should be used for sorting.</p>
<pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'sort'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  value<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span> item2</span><span class="token punctuation">)</span> <span class="token operator">=></span> item1<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>item2<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> value<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This can be used in conjunction with the navigation plugin.
For example:</p>
<pre class="language-liquid"><code class="language-liquid">{{ collections.all <span class="token operator">|</span> eleventyNavigation <span class="token operator">|</span> sort('title') <span class="token operator">|</span> eleventyNavigationToHtml <span class="token operator">|</span> safe }}</code></pre>

      </section>
    </main>
    <footer>
      &copy; R. Mark Volkmann, 2020
    </footer>
  </body>
</html>